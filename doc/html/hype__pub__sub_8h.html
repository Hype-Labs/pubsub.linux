<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HypePubSub: hype_pub_sub.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HypePubSub
   </div>
   <div id="projectbrief">Decentralized peer-to-peer publisher-subscriber system powered by the HypeSDK, for the Linux platform.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_8a4c0ee2fb5602b82ab02f14ff8e8951.html">hype_pub_sub</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hype_pub_sub.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="hpb__service__managers__list_8h_source.html">hpb_service_managers_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hpb__subscriptions__list_8h_source.html">hpb_subscriptions_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hpb__network_8h_source.html">hpb_network.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hpb__protocol_8h_source.html">hpb_protocol.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hype_pub_sub.h:</div>
<div class="dyncontent">
<div class="center"><img src="hype__pub__sub_8h__incl.png" border="0" usemap="#hype__pub__sub_8h" alt=""/></div>
<map name="hype__pub__sub_8h" id="hype__pub__sub_8h">
<area shape="rect" id="node4" href="hpb__service__managers__list_8h.html" title="hpb_service_managers\l_list.h" alt="" coords="519,80,675,121"/>
<area shape="rect" id="node15" href="hpb__subscriptions__list_8h.html" title="hpb_subscriptions_list.h" alt="" coords="144,244,307,271"/>
<area shape="rect" id="node17" href="hpb__network_8h.html" title="hpb_network.h" alt="" coords="693,169,800,196"/>
<area shape="rect" id="node18" href="hpb__protocol_8h.html" title="hpb_protocol.h" alt="" coords="967,87,1073,114"/>
<area shape="rect" id="node5" href="linked__list_8h.html" title="linked_list.h" alt="" coords="195,319,285,345"/>
<area shape="rect" id="node8" href="hpb__service__manager_8h.html" title="hpb_service_manager.h" alt="" coords="381,169,541,196"/>
<area shape="rect" id="node12" href="hpb__constants_8h.html" title="hpb_constants.h" alt="" coords="865,393,983,420"/>
<area shape="rect" id="node9" href="hpb__clients__list_8h.html" title="hpb_clients_list.h" alt="" coords="584,244,707,271"/>
<area shape="rect" id="node10" href="hpb__client_8h.html" title="hpb_client.h" alt="" coords="462,319,554,345"/>
<area shape="rect" id="node13" href="binary__utils_8h.html" title="binary_utils.h" alt="" coords="384,393,483,420"/>
<area shape="rect" id="node16" href="hpb__subscription_8h.html" title="hpb_subscription.h" alt="" coords="579,319,709,345"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="hype__pub__sub_8h__dep__incl.png" border="0" usemap="#hype__pub__sub_8hdep" alt=""/></div>
<map name="hype__pub__sub_8hdep" id="hype__pub__sub_8hdep">
<area shape="rect" id="node2" href="hpb__cmd__interface_8h.html" title="hpb_cmd_interface.h" alt="" coords="52,80,195,107"/>
<area shape="rect" id="node4" href="hpb__main_8c.html" title="hpb_main.c" alt="" coords="172,155,261,181"/>
<area shape="rect" id="node5" href="hpb__protocol_8h.html" title="hpb_protocol.h" alt="" coords="270,80,377,107"/>
<area shape="rect" id="node7" href="hpb__hype__interface_8c.html" title="hpb_hype_interface.c" alt="" coords="401,80,547,107"/>
<area shape="rect" id="node8" href="hype__pub__sub_8c.html" title="hype_pub_sub.c" alt="" coords="571,80,689,107"/>
<area shape="rect" id="node3" href="hpb__cmd__interface_8c.html" title="hpb_cmd_interface.c" alt="" coords="5,155,148,181"/>
<area shape="rect" id="node6" href="hpb__protocol_8c.html" title="hpb_protocol.c" alt="" coords="286,155,393,181"/>
</map>
</div>
</div>
<p><a href="hype__pub__sub_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structHypePubSub__.html">HypePubSub_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a14bc8fc04314d6651bcf611523728e20"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structHypePubSub__.html">HypePubSub_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a14bc8fc04314d6651bcf611523728e20">HypePubSub</a></td></tr>
<tr class="separator:a14bc8fc04314d6651bcf611523728e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a928b5d8f4600659f7d33aea64ddb6d5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hype__pub__sub_8h.html#a14bc8fc04314d6651bcf611523728e20">HypePubSub</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a928b5d8f4600659f7d33aea64ddb6d5b">hpb_get</a> ()</td></tr>
<tr class="separator:a928b5d8f4600659f7d33aea64ddb6d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855a6cd916eb447e592cfe1a960594da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a855a6cd916eb447e592cfe1a960594da">hpb_issue_subscribe_req</a> (char *service_name)</td></tr>
<tr class="separator:a855a6cd916eb447e592cfe1a960594da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f25bb07b8fb46e28df5659f2204b426"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a8f25bb07b8fb46e28df5659f2204b426">hpb_issue_unsubscribe_req</a> (char *service_name)</td></tr>
<tr class="separator:a8f25bb07b8fb46e28df5659f2204b426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89d861cd220082a633533c17c14fdf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#ad89d861cd220082a633533c17c14fdf6">hpb_issue_publish_req</a> (char *service_name, char *msg, size_t msg_length)</td></tr>
<tr class="separator:ad89d861cd220082a633533c17c14fdf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f289961a36bf8e125484c428c50b5b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a7f289961a36bf8e125484c428c50b5b1">hpb_process_subscribe_req</a> (<a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a> service_key[], HypeInstance *instance)</td></tr>
<tr class="separator:a7f289961a36bf8e125484c428c50b5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf767d6eb2f81b2cd16c64652e98da6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#aabf767d6eb2f81b2cd16c64652e98da6">hpb_process_unsubscribe_req</a> (<a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a> service_key[], HypeInstance *instance)</td></tr>
<tr class="separator:aabf767d6eb2f81b2cd16c64652e98da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c582e18f8957b64ef0cf22ac1ee9de0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a8c582e18f8957b64ef0cf22ac1ee9de0">hpb_process_publish_req</a> (<a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a> service_key[], char *msg, size_t msg_length)</td></tr>
<tr class="separator:a8c582e18f8957b64ef0cf22ac1ee9de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a31cf415e4148d2c1204abb0c683aa1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a1a31cf415e4148d2c1204abb0c683aa1">hpb_process_info_msg</a> (<a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a> service_key[], char *msg, size_t msg_length)</td></tr>
<tr class="separator:a1a31cf415e4148d2c1204abb0c683aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85bb6dbfc9bf3903d8e66a86f10247f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#aa85bb6dbfc9bf3903d8e66a86f10247f">hpb_update_managed_services</a> ()</td></tr>
<tr class="separator:aa85bb6dbfc9bf3903d8e66a86f10247f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e29ee095f71a60fdea3b0b727c5399b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a9e29ee095f71a60fdea3b0b727c5399b">hpb_remove_subscriptions_from_lost_instance</a> (HypeInstance *instance)</td></tr>
<tr class="separator:a9e29ee095f71a60fdea3b0b727c5399b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90229a480ad12e6d7b03b230a1b98548"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#a90229a480ad12e6d7b03b230a1b98548">hpb_update_own_subscriptions</a> ()</td></tr>
<tr class="separator:a90229a480ad12e6d7b03b230a1b98548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acefe9d6ef9f90a37e40fc4e5b0f7fdf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hype__pub__sub_8h.html#acefe9d6ef9f90a37e40fc4e5b0f7fdf8">hpb_destroy</a> ()</td></tr>
<tr class="separator:acefe9d6ef9f90a37e40fc4e5b0f7fdf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a14bc8fc04314d6651bcf611523728e20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structHypePubSub__.html">HypePubSub_</a>  <a class="el" href="hype__pub__sub_8h.html#a14bc8fc04314d6651bcf611523728e20">HypePubSub</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This struct represents a HypePubSub application. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acefe9d6ef9f90a37e40fc4e5b0f7fdf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hpb_destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates the space previously allocated for the HypePubSub singleton. This method is specially useful to clear previous states for unit tests. </p>

</div>
</div>
<a class="anchor" id="a928b5d8f4600659f7d33aea64ddb6d5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hype__pub__sub_8h.html#a14bc8fc04314d6651bcf611523728e20">HypePubSub</a>* hpb_get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns the HypePubSub singleton. If the singleton was not previously created this methods creates it. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the HypePubSub singleton. </dd></dl>

</div>
</div>
<a class="anchor" id="ad89d861cd220082a633533c17c14fdf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_issue_publish_req </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the Hype client responsible for a given service through the network manager and it uses the protocol manager to send a publish request to that Hype client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hpb</td><td>Pointer to the HypePubSub application. </td></tr>
    <tr><td class="paramname">service_name</td><td>Name of the service in which to publish. </td></tr>
    <tr><td class="paramname">msg</td><td>Pointer to the message to be published. </td></tr>
    <tr><td class="paramname">msg_length</td><td>Lenght of the message to be published </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0 in case of success and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a855a6cd916eb447e592cfe1a960594da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_issue_subscribe_req </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the Hype client responsible for a given service through the network manager and it uses the protocol manager to send a subscribe request to that Hype client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">service_name</td><td>Name of the service to be subscribed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0 in case of success and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a8f25bb07b8fb46e28df5659f2204b426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_issue_unsubscribe_req </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the Hype client responsible for a given service through the network manager and it uses the protocol manager to send a unsubscribe request to that Hype client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">service_name</td><td>Name of the service to be unsubscribed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0 in case of success and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a1a31cf415e4148d2c1204abb0c683aa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_process_info_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a>&#160;</td>
          <td class="paramname"><em>service_key</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process an info message received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hpb</td><td>Pointer to the HypePubSub application. </td></tr>
    <tr><td class="paramname">service_key</td><td>Key of the service to which the message belongs. </td></tr>
    <tr><td class="paramname">msg</td><td>Message received. </td></tr>
    <tr><td class="paramname">msg_length</td><td>Length of the received message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 in case of success and &lt; 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a8c582e18f8957b64ef0cf22ac1ee9de0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_process_publish_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a>&#160;</td>
          <td class="paramname"><em>service_key</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a publish request to a given service. It sends the message to all the subscribers of the specified service. If the service does not exist in the list of managed services nothing is done. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hpb</td><td>Pointer to the HypePubSub application. </td></tr>
    <tr><td class="paramname">service_key</td><td>Key of the service in which to publish. </td></tr>
    <tr><td class="paramname">msg</td><td>Message to be sent. </td></tr>
    <tr><td class="paramname">msg_length</td><td>Length of the message to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 in case of success and &lt; 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a7f289961a36bf8e125484c428c50b5b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_process_subscribe_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a>&#160;</td>
          <td class="paramname"><em>service_key</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HypeInstance *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a subscribe request to a given service. It adds the ID of the Hype client that sent the request to the list of the subscribers of the specified service. If the service does not exist in the list of managed services, it is added. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hpb</td><td>Pointer to the HypePubSub application. </td></tr>
    <tr><td class="paramname">service_key</td><td>Key of the service to be subscribed. </td></tr>
    <tr><td class="paramname">requester_client_id</td><td>Hype ID of the client that sent the subscribe message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 in case of success and &lt; 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aabf767d6eb2f81b2cd16c64652e98da6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_process_unsubscribe_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="binary__utils_8h.html#aa1724c2cf95344209b0e6ad0a8ddbe54">HLByte</a>&#160;</td>
          <td class="paramname"><em>service_key</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HypeInstance *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes an unsubscribe request to a given service. It removes the ID of the Hype client that sent the request from the list of the subscribers of the specified service. If the service does not exist in the list of managed services, nothing is done. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hpb</td><td>Pointer to the HypePubSub application. </td></tr>
    <tr><td class="paramname">service_key</td><td>Key of the service to be unsubscribed. </td></tr>
    <tr><td class="paramname">requester_client_id</td><td>Hype ID of the client that sent the unsubscribe message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 in case of success and &lt; 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a9e29ee095f71a60fdea3b0b727c5399b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hpb_remove_subscriptions_from_lost_instance </td>
          <td>(</td>
          <td class="paramtype">HypeInstance *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is called when a Hype instance is lost. Its purpose is to iterate all the services that this client manages and remove the lost instance from the list of subscribers of each one. This avoids to propagate messages to instances that are no longer reachable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>Instance that was lost. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa85bb6dbfc9bf3903d8e66a86f10247f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_update_managed_services </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is called when a Hype instance is resolved. Its purpose is to check if the new client has a key closer to the key of any of the services managed by this client. If this happens the new instance will be responsible for managing that service and so we can remove it from the list of managed services of this client. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a90229a480ad12e6d7b03b230a1b98548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpb_update_own_subscriptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is called when a Hype instance is lost or found. Its purpose is to review the list of subscriptions of this client to analyze if the service will be managed by a new client. If this happens a subscribe request will be issued again to the new manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hpb</td><td>Pointer to the HypePubSub application. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns -1 if the HypePubSub application is NULL and 0 otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
